{"id": "1007525", "question": "AB测试样本量的问题", "description": "<div class=\"col-md-11 col-xs-10\"><p>项目上线要AB测试(测试CTR是否大于原来的CTR)，假设每天测试有10000人，现在我只统计里面1000人的CTR，问我要连续测试多少天，才能让得到的结论有95%的置信度</p></div>", "viewer": 3491, "tags": ["统计/机器学习", "AB Test"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>其实你问的就是样本量的问题。样本量是有一套自己的计算公式的</p><p>$$S=\\frac{\\frac{z^2p(1-p)}{e^2}}{1+\\frac{z^2p(1-p)}{e^2N}}$$</p><p>可以根据上面的式子计算出所需要的样本量$S$。$N$是样本总数，你这里是10000，$z$是z-值，根据95%置信区间，我们知道$z=1.96$，$e$是边际误差，你没有给出，默认是1%吧。$p$是CTR，假设这里是$0.05$。</p><p>把数值带进去，可以得到$S\\approx1543\\gt1000$，所以你一天的数据是不够的。</p><p>如果你连续测两天，也就是$N=20000$，此时再计算一遍样本量，得到$S\\approx 1672 \\lt 2000$，所以两天就够了。</p></div>", "lvl2_answer": ["这是我在网上看到的一个面试题 不知道该用什么公式 后来一想觉得有些指标也可以当作已知", "还有 就是这里面是只统计10000人中1000人的 所以应该是20天吧", "为什么是20天呢？"]}]}