{"id": "1000459", "question": "像年、月、日、小时这种时间变量一般怎么处理？", "description": "<div class=\"col-md-11 col-xs-10\"><p>我在做一个预测模型，有一些时间特征，比如像月份和礼拜几，还有小时该怎么处理？</p><p>比方说，对于小时来说，0表示这个数据记录时间在0点到1点之间，20表示记录在20到21点之间。我是该用OneHotEncode把它转化为categorical变量呢，还是就把它当做正常的数值变量？用OneHotEncoder的话，我就损失了时间的连续性；用数值变量的话，明明23点和0点只差一个小时，但是在数值上却是相差最大的。</p><p>类似的，礼拜几，日期，分钟，都有这样的困扰出现。有什么好方法吗？</p></div>", "viewer": 5427, "tags": ["统计/机器学习", "数据预处理", "时间序列"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">我们可以不用OneHotEncoding，可以用极坐标来表示周期的变量。\n</span></p><p><br/></p><p><span style=\"font-size: 14px;\">我就拿小时举例吧，其他的都可以以此类推。\n</span></p><p><span style=\"font-size: 14px;\">因为时间变量都是有周期性的，所以可以联想到极坐标（想象一下钟表）。不过为了表达原本时间上的连续性以及头尾的相接性，我们需要把原来的数据从一维变成两维的。比如原来是$h$，现在就转化$(\\cos\\frac{2\\pi h}{24}, \\sin\\frac{2\\pi h}{24})$。\n</span></p><p><span style=\"font-size: 14px;\">比如原来的小时变量的数据位\n</span></p><p><span style=\"font-size: 14px;\">H\n</span></p><p><span style=\"font-size: 14px;\">0\n</span></p><p><span style=\"font-size: 14px;\">1\n</span></p><p><span style=\"font-size: 14px;\">17\n</span></p><p><span style=\"font-size: 14px;\">23\n</span></p><p><span style=\"font-size: 14px;\">就被转化为两个变量\n</span></p><p><span style=\"font-size: 14px;\">H_cos\t</span>    <span style=\"font-size: 14px;\">H_sin\n</span></p><p><span style=\"font-size: 14px;\">1.000\t</span>    <span style=\"font-size: 14px;\">0.000\n</span></p><p><span style=\"font-size: 14px;\">0.966\t</span>    <span style=\"font-size: 14px;\">0.259\n</span></p><p><span style=\"font-size: 14px;\">-0.259\t</span>    <span style=\"font-size: 14px;\">-0.966\n</span></p><p><span style=\"font-size: 14px;\">0.966\t</span>    <span style=\"font-size: 14px;\">-0.259\n</span></p><p><span style=\"font-size: 14px;\">这样我们就保证了时间的连续性和头尾相接性。</span></p><p><br/></p><p><span style=\"font-size: 14px;\">\n</span><span style=\"font-size: 14px;\">如果是分钟，就转化为$(\\cos\\frac{2\\pi m}{60}, \\sin\\frac{2\\pi m}{60})$. </span></p><p><span style=\"font-size: 1rem;\"><br/></span><span style=\"font-size: 14px;\">如果是月份，就转化为$(\\cos\\frac{2\\pi Mon}{12}, \\sin\\frac{2\\pi Mon}{12})$.</span></p><p><span style=\"font-size: 1rem;\"><br/></span></p></div>", "lvl2_answer": ["机智的处理方法！"]}]}