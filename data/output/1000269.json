{"id": "1000269", "question": "Python单侧T检验", "description": "<div class=\"col-md-11 col-xs-10\"><p><span courier=\"\" new=\"\" style=\"font-family: \">python里怎么做单侧T检验？我在网上查到一个是这样的。</span></p><pre><code class=\"python\">&gt;&gt;&gt;s = [1,2,-1,2,1,-4]\n&gt;&gt;&gt;from scipy.stats import ttest_1samp\n&gt;&gt;&gt;ttest_1samp(s,0)\nTtest_1sampResult(statistic=0.1762268, pvalue=0.8670311)</code></pre><p><span courier=\"\" new=\"\" style=\"font-family: \">上面这个代码得到的p-value是双侧T检验的。</span></p><p><span courier=\"\" new=\"\" style=\"font-family: \">怎么做单侧的呢？我就是单样本，零假设是均值大于0.</span></p><p><span courier=\"\" new=\"\" style=\"font-family: \"><br/></span><br/></p><p><br/></p></div>", "viewer": 9744, "tags": ["统计/机器学习", "假设检验", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">python的ttest_1samp同时返回T-statistic和p value。利用T检验的对称性，我们可以把双侧假设检验结果转化为单侧的。</span></p><p><span style=\"font-size: 14px;\">如果T-statistic &gt; 0，单侧pvalue = 1 - 双侧pvalue／2</span></p><p><span style=\"font-size: 14px;\">如果T-statistic &lt; 0，单侧pvalue = 双侧pvalue／2</span></p><p><span style=\"font-size: 14px;\">可以根据上面的等式，自己定义个函数</span></p><pre><code class=\"python\"><span style=\"font-size: 14px;\">def ttest_onesided(s):\n    from spicy.stats import ttest_1samp\n    (t, p) = ttest_1samp(s, 0)\n    if t &gt; 0:\n        onesided_p = 1 - p / 2\n    else:\n        onesided_p = p / 2\n    return onesided_p</span></code></pre><p style=\"line-height: 1;\"><br/></p></div>", "lvl2_answer": ["补充一下，如果零假设是均值小于0，if else里面的条件要反一下。"]}]}