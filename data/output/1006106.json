{"id": "1006106", "question": "corss_val_score的scoring='accuracy'可以执行，使用其它参数报错", "description": "<div class=\"col-md-11 col-xs-10\">C:\\Users\\wwwwww&gt;python\n<div>Python 3.6.1 |Anaconda 4.4.0 (64-bit)| (default, May 11 2017, 13:25:24) [MSC v.1900 64 bit (AMD64)] on win32\n</div><div>Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</div><div>&gt;&gt;&gt; from sklearn.model_selection import cross_val_score\n</div><div>&gt;&gt;&gt; from sklearn.datasets import load_iris\n</div><div>&gt;&gt;&gt; from sklearn.ensemble import RandomForestClassifier\n</div><div>&gt;&gt;&gt; forest = RandomForestClassifier(n_estimators=100,random_state=1)\n</div><div>&gt;&gt;&gt; <span style=\"background-color: rgb(247, 198, 206);\">cross_val_score(forest,load_iris().data,load_iris().target,</span><span style=\"background-color: rgb(231, 156, 156);\">scoring='accuracy'</span><span style=\"background-color: rgb(247, 198, 206);\">,cv=5)\n</span></div><div>array([ 0.96666667,  0.96666667,  0.93333333,  0.96666667,  1.        ])\n</div><div>&gt;&gt;&gt; cross_val_score(forest,load_iris().data,load_iris().target,<span style=\"background-color: rgb(231, 156, 156);\">scoring='precision'</span>,cv=5)\n</div><div>Traceback (most recent call last):\n</div><div>  File \"<stdin>\", line 1, in <module>\n</module></stdin></div><div>  File \"E:\\dsj-software\\Anaconda3-4.4.0\\lib\\site-packages\\sklearn\\model_selection\\_validation.py\", line 140, in cross_val_score\n</div><div>    for train, test in cv_iter)\n</div><div>  File \"E:\\dsj-software\\Anaconda3-4.4.0\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py\", line 758, in __call__\n</div><div>    while self.dispatch_one_batch(iterator):</div><div>  File \"E:\\dsj-software\\Anaconda3-4.4.0\\lib\\site-packages\\sklearn\\metrics\\classification.py\", line 1018, in precision_recall_fscore_support\n</div><div>    \"choose another average setting.\" % y_type)\n</div><div>ValueError: Target is multiclass but average='binary'. Please choose another average setting.\n</div><div>&gt;&gt;&gt;</div></div>", "viewer": 3548, "tags": ["统计/机器学习", "监督式学习", "模型验证", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><br/></p><pre><code class=\"python\">ValueError: Target is <span style=\"background-color: rgb(255, 255, 0);\">multiclass</span> but average='<span style=\"background-color: rgb(255, 255, 0);\">binary</span>'. Please choose another average setting.</code></pre><p>错误信息已经告诉你了，你在做多元分类，但是你用的是二元分类的scoring，所以报错了</p></div>", "lvl2_answer": ["谢谢"]}]}