{"id": "1005966", "question": "怎么把3D的numpy array显示为彩色图像并且保存？", "description": "<div class=\"col-md-11 col-xs-10\"><p>怎么把3D的numpy array显示为彩色图像并且保存？</p></div>", "viewer": 3472, "tags": ["统计/机器学习", "计算机视觉", "数据可视化", "Python", "I/O"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>这里用matplotlib库实现，默认数据是numpy array,RGB通道排列的三维数据</p><pre><code class=\"python\">from matplotlib import pyplot as plt\nplt.imshow(data) \n# 这里默认是RGB通道排列，即(R,G,B)，如果是其他通道表述可以通过data.transpose来调整\nplt.savefig(\"./1.jpg\")</code></pre><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>使用pillow库的Image.fromarray，你的3D的numpy array我理解图片是RGB的</p><p>下面我给了代码和示例图片</p><pre><code class=\"python\">from PIL import Image\nimport numpy as np\n\nif __name__ == '__main__':\n    org_img = Image.open('vacant.jpg')\n    org_pix = np.array(org_img)\n    print(org_pix.shape)  # (32, 32, 3)\n    img = Image.fromarray(org_pix.astype('uint8')).convert('RGB')\n    img.save('111.jpg')\n</code></pre><p><img data-filename=\"vacant.jpg\" src=\"data:image/jpeg;base64,/9j/4QlQaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiLz4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQICAgICAgICAgICAwMDAwMDAwMDAwEBAQEBAQECAQECAgIBAgIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD/90ABAAE/+4ADkFkb2JlAGTAAAAAAf/AABEIACAAIAMAEQABEQECEQH/xACLAAEBAQAAAAAAAAAAAAAAAAAJAAoBAAMBAQAAAAAAAAAAAAAAAAAFCAYJEAABAQUGAgsAAAAAAAAAAAAGBQMEBwgJAQITFBYXABUKEhgZGldYl5jW2BEAAQIDBgEGDwEAAAAAAAAAAQIDBAUSAAYIERMUFQcJFyExQRgZUlNUVVeSk5SV0tPU1YH/2gAMAwAAARECEQA/ANWdSarXLlS22Y7QAVGww3z3F0ls6OAhBy7bLQvPtRa1iRD7KZvcFyyeWzmJhNsTC6rPEq7DDg95TMWHHOjqOkUFwDZ7jiT0UzXvt1paO2goyqnZu6lenlUimvNVKGd3igpBpbxLqtWrKgJOVNOedSk+UMss+/s7y68WrTk8lZ2PbiBX6Q4q7xPeJj15cX52a/xbIOkSSeaivdb/AC2vFq05PJWdj24gV+kODxPeJj15cX52a/xbHSJJPNRXut/lsotNmrXLlVJ3n7P4VGwP2M261bvEOAg/zHc3XXIdO6KiREHN5Tb59zmZyeHiscPF6zTDlHE9g95TMJ/A+kWOkUbx/ebfhr0U9Rsdrq625goOmreNadGpnSuqjJNT+SXigp/q7NLqdKnOsJGdVWWVKleSc88u7/P/0FT6QUMjhpPxQNDjEfRCwRLJvSMZKhUmSnBdHCUcXYzyXpa4PkCGqO70mLKIspj01dnt0eWTRg8MGl5m0uXrl62y3rVzc80mcjw9Yhp1JYl+DnMHcxl9h9hxbTzDzUtvK408y62UrbdbWlK23EKStC0hSSCARgL4todm8oadAU2qJIIIzBBWyCCD1EEdRB7bOZ3adOT0ASTfFWBX0PiCfChxMe0S/X16a/t21fA5J6HC/Cb+213adOT0ASTfFWBX0Pg8KHEx7RL9fXpr+3Y4HJPQ4X4Tf22DPo+oyOBc/FfIODh9EExETm9HBkVFRlKcEIcGhxCjPOgloY+PoaW7uqYjIiMmOrJ2dHR2ZM2DuwZ3GbO5duXbLLL25xiaTOeYesPM6nUS/GTmMuY8++++4t15952W3acdeedcKluOuLUpbji1KWtaipRJJJylzm0NTebtNAJbTEgAAZAALeAAA6gAOoAdlv/RVPpBRMOBc/FA0xMSBEExETm9IyYqKiZVcEIcGhxCjPJeqLhAQLio3dUxGREZMdWry9vby1ZsHdgzvNGl67cu222daubnlcznmHrENJZLDPxk5jLmMsMMMNrdefedlt5W2mWWmwpbjri1JQ22hKlrWoJSCSAcBfFxDU3lDrpCW0xJJJOQAC2SSSeoADrJPZZzO8spyev+Sb5VQK++cQT4L2Jj2d36+gzX9S2r45JPTIX4rf3Wu8spyev+Sb5VQK++cHgvYmPZ3fr6DNf1LHHJJ6ZC/Fb+6wZ9H1Jhw0n4r5GIcQIhYIlk3o4TCpUMqrgujhKOLsZ50FRDIB9cS270mLKIspj0yeXR7dmrRg8MGlxozvXrl6y229ucYlczkeHrDzJZ1DPwc5g7mPMPsPtraeYealt2m3WXmnAlbbra0qQ42tKVoWkpUAQQMpc5xDs3m7rRCm1RIIIOYIK3iCCOogjrBHbb/9LVnUmpKS5VSdmO0AaxsD9jNxdJbOkYIP8AMdzdC8+1FrWG8Qc3lNvnLJ5bJ4eK2xMXrM8OrsMOMLlMwn8c6OoGRRvH9nuOJMxT1Gx3Wlo7aNg6at47qV6mdKKaMlVIZ3d2Cn+lvFOp0qsqCkZ1U551JV5Iyyy7/wDC68JVTk86Z2PcaBX5u4q7xwmJj1HcX5Ka/wBqyDo7knnYr3m/xWvCVU5POmdj3GgV+buDxwmJj1HcX5Ka/wBqx0dyTzsV7zf4rKLTZpKS5Utt5+z+axsMN89utW7xEYIQcu2y11yHTuiobw+ymb3Bfc5mc5iYTHDwuq0xJRxPYwuUzFhwPpFgZFBcA3m34azFM177a6utuY2Mqp2bWnRp5VLqrzTS/kl3YKQauzU6rVpzrKTlTVllSlPlHPPPu7O//9k=\" style=\"width: 32px;\"/><br/></p></div>", "lvl2_answer": ["是的，是RGB的数值。多谢！"]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>keras里面的一些函数也可以用保存图片</p><pre><code class=\"python\">from keras.preprocessing import image\r\nmy_img = image.array_to_img(my_array)\r\nmy_img.save('output.jpg') \r\nmy_img.show()</code></pre></div>", "lvl2_answer": []}]}