{"id": "1002441", "question": "如何对中文部分进行独热处理（one-hot）", "description": "<div class=\"col-md-11 col-xs-10\"><p><br/></p><pre><code class=\"python\">import pandas as pd \nimport numpy as np \n\na = [['苹果', 10, 4.2], ['龙眼', '6.2,6.8', 0.03], ['荔枝', np.nan, np.nan]]\ndf = pd.DataFrame(a)\ndf.columns=['a','b','c']\nprint(df)\n\nfrom sklearn import preprocessing  \nenc = preprocessing.OneHotEncoder()  \n# df['a'].encode('Unicode')\nenc.fit(df['a'])  \ndf['a'] = enc.transform([df['a']])\nprint('df[a]\\n',df['a'])</code></pre><p>输出结果：</p><pre><code class=\"python\">    a        b     c\n0  苹果       10  4.20\n1  龙眼  6.2,6.8  0.03\n2  荔枝      NaN   NaN</code></pre><p>报错：</p><pre><code class=\"python\">ValueError: could not convert string to float: '荔枝'</code></pre></div>", "viewer": 3930, "tags": ["统计/机器学习", "自然语言处理", "数据预处理", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>怎么一直没有人回答这个问题...</p><p>OneHotEncoder不能直接把string类型的列进行one-hot coding，你需要先用整数代替字符，比如说用LabelEncoder，然后再用OneHotEncoder。</p><p>这个问题<a href=\"http://sofasofa.io/forum_main_post.php?postid=1003039\" target=\"_blank\">sklearn onehotencoder的具体用法</a>是和你一模一样的情况，数据中一列是字符形式。你直接看里面的代码就行了。</p></div>", "lvl2_answer": []}]}