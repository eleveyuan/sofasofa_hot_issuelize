{"id": "1022125", "question": "lightgbm使用自定义损失函数后，二分类的预测结果不再是【0，1】区间", "description": "<div class=\"col-md-11 col-xs-10\"><p>如题，对lightgbm使用如下的自定义函数后</p><p><br/></p><pre><code class=\"python\">def logistic_obj(y_hat, dtrain):\n    y = dtrain.get_label()\n    p = y_hat \n    p = 1. / (1. + np.exp(-y_hat)) # 用于避免hessian矩阵中很多0\n    grad = p - y\n    hess = p * (1. - p)\n    grad = 4 * p * y + p - 5 * y\n    hess = (4 * y + 1) * (p * (1.0 - p))\n    return grad, hess</code></pre><p>其预测结果不再是【0，1】，而是有正有负。如果再结果上再加一层sigmoid，效果和不自定义损失函数差很多。</p></div>", "viewer": 3308, "tags": ["统计/机器学习", "监督式学习"], "answers": []}