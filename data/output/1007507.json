{"id": "1007507", "question": "（LGB+LR）关于lightgbm中的参数y_pred = gbm.predict(X_train, pred_leaf=True)", "description": "<div class=\"col-md-11 col-xs-10\"><p><br/></p><pre><code class=\"python\">X_trin=X1[0:5000]\ny_train=Y1[0:5000]\ngbm = lgb.LGBMClassifier(boosting_type='gbdt',max_depth=-1,objective='multiclass',\n             num_leaves=5,learning_rate=0.6,n_estimators=1500,metric= 'multi_error',max_bin=150,verbose=-1)\ngbm.fit(X_train, y_train,eval_set=[(X1, Y1)],early_stopping_rounds=500,eval_metric='multi_error')\ny_pred = gbm.predict(X_train, pred_leaf=True)\nprint(y_pred.shape)</code></pre><p> 上面的是LGB的参数，训练样本5000，标签四分类0,1,2,3</p><p><img data-filename=\"download (8).png\" src=\"data:image/png;base64,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\" style=\"width: 478px;\"/><br/></p><p><span style=\"font-size: 1rem;\">上面是运行结果 我想请教下1308代表的是什么 我看网上说y_pred[:,0] 输出的才是index 但是我不知道为什么</span><br/></p></div>", "viewer": 5071, "tags": ["统计/机器学习", "监督式学习", "推荐系统", "特征选择", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>你把关键代码复制一下，不然也不知道你的y_pred是什么意思</p><p>如果你要得到每个叶子的输出结果，你在调用模型进行predict或者predict_proba的时候设置一下参数，例如：</p><pre><code class=\"python\">clf = LGBMClassifier(...)\nleaves = clf.predict(x_test, pred_leaf=True)</code></pre><p><br/></p></div>", "lvl2_answer": ["你好，我把补充的发下面了，麻烦你看下，谢谢啦", "您的发帖不符合社区规范，问题补充可以直接对原问题修改。现在已帮您修复。谢谢配合。"]}]}