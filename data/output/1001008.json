{"id": "1001008", "question": "怎么直观理解ROC AUC的概率统计意义？", "description": "<div class=\"col-md-11 col-xs-10\"><p>ROC AUC是指ROC曲线下面的面积，越接近于1越好，但是ROC AUC有什么更深层、直观的概率统计的意义吗？</p><p><br/></p></div>", "viewer": 13297, "tags": ["统计/机器学习", "监督式学习", "模型验证", "开放问题"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>ROC AUC有个非常直白的概率意义。</p><p>随机挑选一个标签为0的样本A，再随机挑选一个标签为1的样本B。你预测样本B为1的概率大于样本A为1的概率的概率就是你的ROC AUC。比较拗口，多念几遍，就通顺了，嘿嘿嘿。</p><p><br/></p><p>我再多说几句，ROC AUC的数值与每个预测概率的数值大小无关，在乎的是每个预测概率的排序。假设我们按照概率从大到小排。如果根据你的预测结果，所有标签为1的样本都排在了标签为0的样本前面，那么你的ROC AUC就是1。</p><p>ROC AUC = 0.8的意思是说，随机挑选个标签为1的样本，它被排在随机的0样本的前面的概率是0.8。显然ROC AUC是0.5的话，就说明这个模型和随便猜没什么两样。</p><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">首先要清楚二元分类的过程。一般是先对每个数据点计算一个score $x$，可以是这个点属于positive的概率，也可以是其他。一般来说是$x$越大，越可能是positive。把所有positive/negative的score的直方图画出来，如下图的两个概率分布函数$f_1(x)$, $f_0(x)$。然后人为设定一个threshold $T$，当$x&gt;T$判断为positive，否者为negative，这样可以把$f_1(x)$, $f_0(x)$分割成TP,FN,TN,FP四部分。</span></p><p><span style=\"font-size: 14px;\">ROC就是把$T$从$\\infty$到$-\\infty$，所有$P(FP),P(TP)$的点连成的曲线。</span></p><p><span style=\"font-size: 14px;\">$P(FP)=FPR(T)=\\int_{T}^{\\infty} f_0(x) dx$ </span></p><p><span style=\"font-size: 14px;\">$P(TP)=TPR(T)=\\int_{T}^{\\infty} f_1(x) dx$</span></p><p><span style=\"font-size: 14px;\">现实中只有有限个数据点，所以用$P(FP)=\\frac{FP}{FP+TN}$,$P(TP)=\\frac{TP}{FN+TP}$估计。</span></p><p><img data-filename=\"download (3).png\" src=\"data:image/png;base64,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\" style=\"width: 574.333px; height: 441.021px;\"/><br/></p><p></p><p><span style=\"font-size: 14px;\">$AUC=\\int_{\\infty}^{-\\infty}P(TP)P'(FP)dT$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">注意$P'(FP)=d(\\int_{T}^{\\infty} f_0(x) dx)/dT=-f_0(T)$是横轴上的$\\delta$，$P(TP)$是纵轴上的长度，它俩的积分为曲线下面积</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">$AUC=\\int_{\\infty}^{-\\infty}\\int_{T}^{\\infty} f_1(x) dx (-f_0(T)) dT$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">$=\\int_{-\\infty}^{\\infty}\\int_{T}^{\\infty} f_1(x) dx f_0(T) dT$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">令$x=x_1$，$T=x_0$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">$=\\int_{-\\infty}^{\\infty}\\int_{x_0}^{\\infty} f_1(x_1) f_0(x_0) dx_1dx_0$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">$=P(x_1&gt;x_0|x_1 \\sim f_1,x_0 \\sim f_0)$\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">假设随机得到一个positive和一个negative数据点，它们在某分类器中的score分别是$x_1$，$x_0$，AUC就是$x_1&gt;x_0$的概率。\n</span></p><p><span style=\"font-size: 14px;\">\n</span></p><p><span style=\"font-size: 14px;\">这里其实还有一个隐藏条件是$T \\sim U(-\\infty,\\infty)$，也就是对$T$的选择没有喜好。但实际应用中对$T$有限制，比如希望$FPR(T)&lt;0.05$，这时AUC只能做参考，要看ROC中的局部线段是否靠近左上角。</span></p><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">首先要理解怎么作图的。ROC曲线是true positive rate(TPR) vs False positive rate(FPR) 。注意这两个rate的分母是不一样的。对于一个模型，按照预测score从小到大排序，然后把分界线从第一个sample往后逐渐移动到最后一个，看左边的sample TPR和 FPR值是多少。比如分界线在最左边，TPR==FPR==0，最右边TPR==TPR==1</span></p><p><span style=\"font-size: 14px;\">更深层、直观的概率统计的意义最好从limit考虑</span></p><ul><li><span style=\"font-size: 14px;\">AUC==1: 模型可以100%准确分类</span></li><li><span style=\"font-size: 14px;\">AUC==0.5: 效果等于随机</span></li><li><span style=\"font-size: 14px;\">AUC==0: 模型分类100%错误</span></li></ul><p><span style=\"font-size: 14px;\">参考： </span><a href=\"https://docs.eyesopen.com/toolkits/cookbook/python/plotting/roc.html\" target=\"_blank\"><span style=\"font-size: 14px;\">https://docs.eyesopen.com/toolkits/cookbook/python/plotting/roc.html</span></a></p></div>", "lvl2_answer": []}]}