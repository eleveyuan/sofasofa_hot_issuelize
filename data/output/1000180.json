{"id": "1000180", "question": "R语言里怎么求一个样本的众数", "description": "<div class=\"col-md-11 col-xs-10\"><p>R语言里面求一个数组s的平均值是mean(s)，求数组s的中位数是median(s)。但是要求s的众数，mode(s)返回的却是这个变量的类型。请问R语言里什么命令是求数组的众数的？</p></div>", "viewer": 14083, "tags": ["统计/机器学习", "描述性统计", "R"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p style=\"line-height: 1;\"><span style=\"font-family: Arial;\"><span style=\"font-size: 14px;\">的确有些奇怪，R里并没有自带的求众数的函数的。</span></span></p><p style=\"line-height: 1;\"><span style=\"font-size: 14px; font-family: Arial;\">不过我们可以自己动手写一个。有两个常用方法。</span></p><p style=\"line-height: 1;\"><span style=\"font-size: 14px; font-family: Arial;\">方法一：自己定义一个函数。</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">FindMode &lt;- function(x) {</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-family: Arial;\"><span style=\"font-size: 14px;\">    </span><span courier=\"\" font-size:=\"\" new=\"\" style=\"font-size: 14px;\">ux &lt;- unique(x) </span></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-family: Arial;\"><span style=\"font-size: 14px;\">    </span><span courier=\"\" font-size:=\"\" new=\"\" style=\"font-size: 14px;\">ux[which.max(tabulate(match(x, ux)))]</span></span></p><p style=\"line-height: 1;\"><span courier=\"\" font-size:=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">}</span></p><p style=\"line-height: 1;\"><span courier=\"\" font-size:=\"\" new=\"\" style=\"font-size: 14px; font-weight: bold; font-family: Arial;\">注意这里返回的是字符型。</span></p><p style=\"line-height: 1;\"><span style=\"font-family: Arial;\"><span style=\"font-size: 14px;\">举个例子，比如</span><span courier=\"\" new=\"\" style=\"font-size: 14px;\"><span courier=\"\" new=\"\" style=\"font-family: \">s=c(1,2,1,1,2,3)</span>的众数是1.</span></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">&gt; FindMode(s)</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">返回<span courier=\"\" new=\"\" style=\"font-family: \">\"1\"</span>。 </span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">输入的样本也可以是字符类型，比如<span courier=\"\" new=\"\" style=\"font-family: \">s=c(\"China\",\"USA\",\"China\",\"England\")</span></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">&gt; FindMode(s)</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">返回<span courier=\"\" new=\"\" style=\"font-family: \">\"China\"</span>。</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">注意：如果有多个元素出现的次数并列第一，那么它只将返回最早出现的那个，比如<span courier=\"\" new=\"\" style=\"font-family: \">s=c(\"man\",\"woman\",\"woman\",\"man\")</span></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">&gt; FindMode(s)</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">返回<span courier=\"\" new=\"\" style=\"font-family: \">\"man\"</span>。</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-family: Arial;\"><br/></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">方法二：直接使用下面的命令。</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-family: Arial;\"><span courier=\"\" new=\"\" style=\"font-size: 14px;\">&gt; s = </span><span courier=\"\" font-size:=\"\" new=\"\" style=\"font-size: 14px;\">c(\"China\",\"USA\",\"China\",\"England\")</span></span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-size: 14px; font-family: Arial;\">&gt; names(sort(-table(s)))[1]</span></p><p style=\"line-height: 1;\"><span courier=\"\" new=\"\" style=\"font-family: \"><span style=\"font-size: 14px; font-family: Arial;\">返回<span courier=\"\" new=\"\" style=\"\">\"China\"</span>.</span><br/></span><br/></p></div>", "lvl2_answer": []}]}