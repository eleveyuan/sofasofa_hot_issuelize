{"id": "1001571", "question": "如何用python实现贝叶斯网络优化lightgbm超参数？", "description": "<div class=\"col-md-11 col-xs-10\"><p>如何用python实现贝叶斯网络优化lightgbm超参数？</p></div>", "viewer": 7574, "tags": ["统计/机器学习", "贝叶斯", "监督式学习", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>可以参考这个<a href=\"http://becs.aalto.fi/en/research/bayes/courses/4613/Vik_Kamath_Presentation.pdf\" target=\"_blank\">ppt</a></p><p>讲的就是用贝叶斯方法来调参</p><p><br/></p></div>", "lvl2_answer": ["你好，非常感谢你的回答。我现在主要的问题是，编程能力太差了，编了个代码，运行错误，debug用了很长时间。代码刚传上来，你能看一下吗？"]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><br/></p><pre><code class=\"python\">def krrcv(\r\n\t\talpha,\r\n\t\tdegree,\r\n\t\tcoef0,\r\n\t\t):\r\n\t\t\r\n\tparams['alpha'] = max(alpha, 0)\r\n\tparams['degree'] = max(degree, 0)\r\n\tparams['alpha'] = max(alpha, 0)\r\n\tdata=train_df\r\n\ttarget=y_train_df\r\n\tval=cross_val_score(KernelRidge(params),data,target,scoring='r2',cv=5).mean()\r\n\treturn val</code></pre><p><br/></p><pre><code class=\"python\">krrBO=BayesianOptimization(krrcv,{\r\n\t\t\t\t        'alpha':(0,1),\r\n\t\t\t\t\t'degree':(0,4),\r\n\t\t\t\t        'coef0':(0,5)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t</code></pre><p>这是我目前用贝叶斯网络优化 KRR的参数，但是总是出错，比如</p><p><br/></p><pre><code class=\"python\">TypeError: ufunc 'add' output (typecode 'O') could not be coerced to provided ou\r\ntput parameter (typecode 'd') according to the casting rule ''same_kind''</code></pre><p>网上参考的代码太少了，希望能够得到帮助！</p></div>", "lvl2_answer": ["我就是好奇，你krrcv函数里的params没有定义过，可以直接这样赋值？"]}]}