{"id": "1002736", "question": "如何生成两个相关的标准正态随机变量", "description": "<div class=\"col-md-11 col-xs-10\"><p>假如有两个标准正态分布$D_1$和$D_2$，并且它们的协方差是0.5。</p><p>怎么分别从$D_1$和$D_2$生成随机变量呢？</p><p>求思路。如果有python的代码更好，谢谢！</p></div>", "viewer": 7941, "tags": ["统计/机器学习", "概率分布", "抽样方法", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">先生成两个标准差为1的独立随机变量的采样$z_1,z_2$，假如要求的协方差为$\\rho$，则相关的随机变量的采样$x_1=z_1$,$x_2=\\rho z_1+\\sqrt{1-\\rho^2}z_2$。需要注意此时每个变量的标准差为1，也就是协方差矩阵的对角线都是1，此时两变量间的协方差等于相关系数。</span></p><p><span style=\"font-size: 14px;\">扩展到生成N维相关随机变量$X~ \\sim N(\\mu,\\Sigma)$,先生成N维独立随机变量$Z$，假设$CC^T=\\Sigma$，则$X=\\mu+CZ$。$C$可以由 Cholesky decomposition生成。</span></p><p><span style=\"font-size: 14px;\">比如$N=2$时，$C=\\begin{bmatrix} 1&amp; 0 \\\\  \\rho &amp; \\sqrt{1-\\rho^2} \\end{bmatrix}$</span></p><p><span style=\"font-size: 14px;\">$CC^T=\\begin{bmatrix} 1&amp; \\rho \\\\  \\rho &amp; 1 \\end{bmatrix}$</span></p><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><br/></p><pre><code class=\"python\">import numpy as np\nmean = [0, 0]\ncov = [[1, 0], [0, 100]] \nx, y = np.random.multivariate_normal(mean, cov, 5000).T</code></pre><p><br/></p></div>", "lvl2_answer": []}]}