{"id": "1000375", "question": "PCA降维之前为什么要先标准化？", "description": "<div class=\"col-md-11 col-xs-10\"><p>当数据维数很高的时候，我们可以用PCA降维，但是降维前通常我们要对数据进行标准化，为什么要这样做？这有什么好处？</p></div>", "viewer": 31214, "tags": ["统计/机器学习", "数据预处理", "数据降维"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>PCA(主成分分析)所对应的数学理论是SVD(矩阵的奇异值分解）。而奇异值分解本身是完全不需要对矩阵中的元素做标准化或者去中心化的。</p><p><span style=\"font-weight: bold;\">但是对于机器学习，我们通常会对矩阵（也就是数据）的每一列先进行标准化。</span></p><p>PCA通常是用于高维数据的降维，它可以将原来高维的数据投影到某个低维的空间上并使得其方差尽量大。如果数据其中某一特征（矩阵的某一列）的数值特别大，那么它在整个误差计算的比重上就很大，那么可以想象在投影到低维空间之后，为了使低秩分解逼近原数据，整个投影会去努力逼近最大的那一个特征，而忽略数值比较小的特征。因为在建模前我们并不知道每个特征的重要性，这很可能导致了大量的信息缺失。为了“公平”起见，防止过分捕捉某些数值大的特征，我们会对每个特征先进行标准化处理，使得它们的大小都在相同的范围内，然后再进行PCA。</p><p>此外，从计算的角度讲，PCA前对数据标准化还有另外一个好处。因为PCA通常是数值近似分解，而非求特征值、奇异值得到解析解，所以当我们使用梯度下降等算法进行PCA的时候，我们最好先要对数据进行标准化，这是有利于梯度下降法的收敛。</p></div>", "lvl2_answer": ["这个给力！估计很多人跟我一样，只注意到第二点。但是我觉得你写得第一点更重要！", "谢谢！学习了！", "应该说是数据都需要标准化，让每个维度的重要性一样。如果已知某维度比较重要，可以再乘上系数。然后再是PCA的问题。", "谢谢分享！", "试了下，有些数据集做不做标准化，PCA的结果差距是非常大的。如果不做标准化，数值较大的特征会对结果产生更大的影响。对于手头某个数据集：\nn_components =  14\n标准化前\nexplained_variance_ratio = [0.99708 0.00291 0.00001 0.      0.      0.      0.      0.      0.\n 0.      0.      0.      0.      0.     ]\n标准化后：\nexplained_variance_ratio = [0.17403 0.11963 0.09637 0.07923 0.07411 0.07285 0.07014 0.06593 0.06344\n 0.06011 0.05312 0.04306 0.02798 0."]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>没做标准化的PCA是找covariance matrix的eigenvector，标准化后的PCA是找correlation matrix的eigenvector。如清风说的第一点，如果没有做标准化，eigenvector会偏向方差最大的变量，偏离理论上的最佳值。</p><p>举例说明。假设一个2维Gaussian，correlation matrix是[1 0.4;0.4 1], $std(x_1)=10, std(x_2)=1$。理论上最佳的分解向量是椭圆的长轴，如果没有做标准化，PCA算出的向量和长轴会有偏差。标准化后偏差会减到很小。</p><p><img data-filename=\"Unknown-2 (1).png\" src=\"data:image/png;base64,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\" style=\"width: 591px;\"/><br/></p><pre><code class=\"python\">#standarization of PCA\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.decomposition import PCA\nfrom sklearn.preprocessing import StandardScaler\nnp.set_printoptions(precision=3)\nnp.random.seed(0)\nn=1000000\nmu=[0,0]\ncorr=np.array([[1.,.4],[.4,1.]])\nstd_vector=[10.,1]\n\nA_ori=np.random.multivariate_normal(mu,corr,n)\nA_scaled=np.matmul(A_ori,np.diag(std_vector))\nscaler = StandardScaler()\nscaler.fit(A_scaled)\nA_standarized=scaler.transform(A_scaled)\n\npca = PCA()\npca.fit(A_scaled)\npca1 = PCA()\npca1.fit(A_standarized)\n\nprint('Correlation Coefficient matrix is:')\nprint(corr)\nprint('std vector is:')\nprint(std_vector)\n\nprint('Covariance matrix is:')\nprint(np.cov(A_scaled.T))\n\nprint('---Before standarization---')\nprint('Components:')\nprint(pca.components_)\nprint('Sigular values:')\nprint(pca.explained_variance_)\n\nprint('---After standarization---')\nprint('Components:')\nprint(pca1.components_)\nprint('Sigular values:')\nprint(pca1.explained_variance_)\n\n# draw PCA components\nt1=np.linspace(-20,20,100)\nt2=t1*std_vector[1]/std_vector[0]\n\nplt.figure(figsize=[10,5])\nplt.subplot(121)\nplt.hist2d(A_scaled[:,0],A_scaled[:,1],100,alpha=0.7)\nplt.plot(t1,t2,'--k')\nc=pca.components_\nr=np.sqrt(pca.explained_variance_)\nplt.arrow(0,0,c[0,0]*r[0],c[0,1]*r[0],color='red',head_width=.3)\nplt.arrow(0,0,c[1,0]*r[1],c[1,1]*r[1],color='blue',head_width=.3)\n# plt.axis('equal')\nplt.title('before standarized')\n\nt1=np.linspace(-20,20,100)\ncov=np.cov(A_standarized.T)\nt2=t1*cov[1,1]\nplt.subplot(122)\nplt.hist2d(A_standarized[:,0],A_standarized[:,1],100,alpha=0.7)\nplt.plot(t1,t2,'--k')\nc=pca1.components_\nr=np.sqrt(pca1.explained_variance_)\nplt.arrow(0,0,c[0,0]*r[0],c[0,1]*r[0],color='red',head_width=.2)\nplt.arrow(0,0,c[1,0]*r[1],c[1,1]*r[1],color='blue',head_width=.2)\n# plt.axis('equal')\nplt.title('after standarized')\nplt.show()</code></pre></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">PCA实现的方式其实有四种：</span></p><ul><li><span style=\"font-size: 14px;\">标准化数据后的协方差矩阵</span></li><li><span style=\"font-size: 14px;\">标准化数据后的相关系数矩阵</span></li><li><span style=\"font-size: 14px;\">未标准化数据后的相关系数矩阵</span></li><li><span style=\"font-size: 14px;\">标准化数据后的svd方式</span></li></ul><p><span style=\"font-size: 14px;\">这四种方式是等价的。</span></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>不标准化的PCA就是TruncatedSVD，其实不标准化也行吧。</p></div>", "lvl2_answer": []}]}