{"id": "1002519", "question": "pandas中获取一列日期和今天相差的天数", "description": "<div class=\"col-md-11 col-xs-10\"><p>我的pandas的dataframe中有一列是日期，并且已经通过如下的方式转换为日期格式了</p><pre><code class=\"python\">df['dates'] = pd.to_datetime(df['dates'])</code></pre><p>我下一步想做的事，得到一列'days_diff'，就是'dates'那一列和今天相差的天数，过去和今天相差的是负数，未来和今天相差的是正数。</p><p>请问这要怎么操作？</p></div>", "viewer": 10995, "tags": ["统计/机器学习", "数据预处理", "时间序列", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>试试这个~</p><pre><code class=\"python\">from datetime import date\r\ntoday = date(2018, 6, 23)\r\ndf['days_diff'] = (df['dates'] - today).apply(lambda x: x.days)<br/></code></pre><p><br/></p></div>", "lvl2_answer": ["多谢！"]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>类似nlceyes的方法，不过直接调用了pandas里的today</p><pre><code class=\"python\">df['days_diff'] = list(map(lambda x: x.days, df['dates'] - pd.to_datetime('today')))</code></pre><p><br/></p></div>", "lvl2_answer": []}]}