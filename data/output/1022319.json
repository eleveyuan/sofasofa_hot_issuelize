{"id": "1022319", "question": "小白求教:一样的数据和差不多的代码，线性回归(LinearRegression)为甚麽自己的和书上的准确率差了挺多", "description": "<div class=\"col-md-11 col-xs-10\"><p>书是python机器学习及实践_从零开始通往kaggle之路</p><p>书上的准确率:0.9+ 我的只有0.8+ 不知道怎么肥事</p><p>还有这本书为什么要把产品编号也作为一个特征啊?</p><p>代码如下(python 3):</p><p><br/></p><p>import pandas as pd\n</p><p>import numpy as np\n</p><p>from sklearn.model_selection import train_test_split\n</p><p>from sklearn.preprocessing import StandardScaler\n</p><p>from sklearn.metrics import accuracy_score\n</p><p>from sklearn.linear_model import LinearRegression\n</p><p>from sklearn.linear_model import SGDClassifier</p><p><br/></p><p>\n</p><p>\n</p><p>#创建特征列表\n</p><p>column_names = ['Sample code number', 'Clump Thickness', 'Uniformity of Cell Size', 'Uniformity of Cell Shape', 'Marginal Adhesion', 'Single Epithelial Cell Size', 'Bare Nuclei', 'Bland Chromatin', 'Normal Nucleoli', 'Mitoses', 'Class']\n</p><p>\n</p><p><br/></p><p>#采用read_csv函数读取文件，默认用逗号分隔数据\n</p><p>data = pd.read_csv('d:/breast-cancer-wisconsin.data', names=column_names, delimiter=',')\n</p><p>\n</p><p><br/></p><p>#将？替换为标准缺失值表示\n</p><p>data = data.replace(to_replace='?', value=np.nan)\n</p><p>#删除有空值的行\n</p><p>data = data.dropna(how='any')\n</p><p>\n</p><p><br/></p><p>\n</p><p>#将前10列选为特征。\n</p><p>X = data[column_names[1:10]]\n</p><p>\n</p><p>#将Class命名的列取出作为待预测的类别。\n</p><p>y = data[column_names[10]]</p><p><br/></p><p>\n</p><p>\n</p><p># 25%的数据作测试集，75%的数据作训练样本。random_state设定为2019，为了保证每次重新运行获得的训练集和测试集是一样的。\n</p><p>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.25, random_state=2019)\n</p><p>\n</p><p><br/></p><p>#标准化数据\n</p><p>ss=StandardScaler()\n</p><p>X_train=ss.fit_transform(X_train)\n</p><p>X_test=ss.transform(X_test)\n</p><p>\n</p><p><br/></p><p># 初始化逻辑斯蒂回归模型和随机梯度参数模型</p><p>lr = LinearRegression()</p><p>sgdc= SGDClassifier ()</p><p><br/></p><p>\n</p><p>#调用 LinearRegression中的fit函数用来训练模型参数。\n</p><p>lr.fit(X_train, y_train)\n</p><p>#使用训练好的模型lr对X_test进行预测,结果储存在变量lr_y_predict中。\n</p><p>lr_y_predict=lr.predict (X_test)</p><p><br/></p><p>\n</p><p>#调用SGDClassifier中的fit函数用来训练模型参数。\n</p><p>sgdc.fit(X_train, y_train)\n</p><p>#使用训练好的模型sgdc对X_test进行预测结果储存在变量sgdc_y_predict中。\n</p><p>sgdc_y_predict=sgdc.predict(X_test)</p><p><br/></p><p>#使用逻辑斯蒂回归模型自带的评分函数score获得模型在测试集上的准确性结果。\n</p><p>print('Accuracy of LR Classifier:', lr.score(X_test, y_test))\n</p><p>print('Accuracy of SGDClassifier:', sgdc.score(X_test, y_test))</p><p><br/></p></div>", "viewer": 983, "tags": ["统计/机器学习"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>1. 贴代码应该用代码块，你这个代码没人能看懂，你应该重新编辑问题</p></div>", "lvl2_answer": ["啊对不起 我重新编辑一下"]}]}