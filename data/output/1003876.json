{"id": "1003876", "question": "pig game expectation", "description": "<div class=\"col-md-11 col-xs-10\"><p>如果一个人扔个6面骰子, 如果扔到了任一不是bad number的数,都可以得到对应数的奖金, 并且可以选择是否选择继续参加游戏, 如果不继续就可以带走手上所有的钱. 如果扔到了bad number (假设是1), 就必须交付手上现有的所有的钱并且中止游戏. 请问这个游戏的期望是多少?</p></div>", "viewer": 2403, "tags": ["数学", "概率论", "趣味数学"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">假设扔完$k$次之后，手上钱的期望为$E_k$。</span></p><p><span style=\"font-size: 14px;\">显然</span></p><p><span style=\"font-size: 14px;\">$$E_1=\\frac{0+2+3+4+5+6}{6}=\\frac{10}{3}$$</span></p><p><span style=\"font-size: 14px;\">并且</span></p><p><span style=\"font-size: 14px;\">$$E_{k+1}=\\frac{1}{6}0+\\frac{5}{6}(E_k+4)=\\frac{5}{6}E_k+\\frac{10}{3}$$</span></p><p><span style=\"font-size: 14px;\">当$E_{k+1}=E_k$的时候，停止扔骰子，此时$E_k=20$。</span></p></div>", "lvl2_answer": ["非常感谢, 很intuitive.", "Ek+4怎么来的？", "4=(2+3+4+5+6)/5，也就是每步不扔1时得到奖金的期望。"]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>有个<a href=\"http://nifty.stanford.edu/2010/neller-pig/\" target=\"_blank\">Hold  at 20 turn</a>的策略，每一步期望的最大值是20，如果当前得分达到20，就要见好而收。</p><p>假设策略是一直扔骰子，求扔到1前得分的均值。</p><p>第$k$步的概率$p_k=\\frac{(5/6)^{k-1}}{\\sum_{k=1}^{\\infty}(5/6)^{k-1}}$，分子为归一化因子。</p><p>第$k$步得分的均值是$E_{k}(score)=4k*(5/6)+0*1/6$</p><p>得分的均值</p><p>$$E(score)=\\sum_{k=1}^{\\infty}p_kE_k(score)$$</p><p>$$=\\frac{\\sum_{k=1}^{\\infty}4k(5/6)^k}{\\sum_{k=1}^{\\infty}(5/6)^{k-1}}$$</p><p>$$=120/6$$</p><p>$$=20$$</p><p>用MC验证：</p><pre><code class=\"python\">import numpy as np\nn=10000\nscore=np.zeros(n)\nstep=np.zeros(n)\nfor i in range(n):\n  x=np.random.randint(low=1,high=7)\n  while x&gt;1:\n    score[i]+=x\n    step[i]+=1\n    x=np.random.randint(low=1,high=7)\n    \nprint(\"E(score)=%f\"%score.mean())\nprint(\"E(step)=%f\"%step.mean())</code></pre><p>结果是</p><pre><code class=\"python\">E(score)=19.878700\nE(step)=4.978100</code></pre></div>", "lvl2_answer": ["谢谢, 非常清楚. 所以hold at 20 turn这个策略就是根据期望值是20这个结果的得出的结论是吗?"]}]}