{"id": "1001113", "question": "把pandas.DataFrame中所有行全部随机排列", "description": "<div class=\"col-md-11 col-xs-10\"><p>我有个DataFrame，有什么办法可以把其中的行打乱，随机重新排列的，谢谢！</p><p><br/></p></div>", "viewer": 16886, "tags": ["统计/机器学习", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>pandas的dataframe有自带的sample功能，当设参数frac=1的时候，就相当于对行做shuffle</p><pre><code class=\"python\">df = df.sample(frac=1)</code></pre><p><br/></p><p>如果重新排列之后希望index还是从0开始排序的话，可以这样操作</p><pre><code class=\"python\">df = df.sample(frac=1).reset_indedx(drop=True)</code></pre><p><br/></p><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>用np.random.permutation构建一个随机序列，作为index来对df进行shuffle处理 </p><pre><code class=\"python\">from np.random import permutation\nidx = permutation(len(df))\ndf[idx]</code></pre><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>随机重排的属于叫做<b>shuffle</b>，也就是“洗牌”。</p><p>sklearn里有洗牌的函数。</p><pre><code class=\"python\">from sklearn.utils import shuffle\r\ndf = shuffle(df)</code></pre><p><br/></p></div>", "lvl2_answer": []}]}