{"id": "1007440", "question": "python 读json 错误  ValueError: Unexpected character found when decoding array value (2)", "description": "<div class=\"col-md-11 col-xs-10\"><p>试过很多方法 </p><p>StackOverflow的方法都无效</p><p><br/></p><pre><code class=\"python\"># -*- coding: utf-8 -*-\n\"\"\"\nCreated on Mon Mar 9 07:19:44 2020\n\"\"\"\nimport pandas as pd\nimport json\nimport codecs\nimport os\n#basePath = os.path.dirname(os.path.abspath(__file__))\n#data=pd.read_json(basePath+'/data.json',orient='values',lines=True)\ndata=pd.read_json(r\"C:\\mypython\\308json\\data.json\", encoding=\"utf8\",lines=True)\n'''\n# read the entire file into a python array\nwith open('data.json', 'rb') as f:\n    data = f.readlines()\n# remove the trailing \"\\n\" from each line\ndata = map(lambda x: x.rstrip(), data)\n# each element of 'data' is an individual JSON object.\n# i want to convert it into an *array* of JSON objects\n# which, in and of itself, is one large JSON object\n# basically... add square brackets to the beginning\n# and end, and have all the individual business JSON objects\n# separated by a comma\ndata_json_str = \"[\" + ','.join(data) + \"]\"\n# now, load it into pandas\ndata_df = pd.read_json(data_json_str)\n'''\n'''\nwith open('data.json', encoding=\"utf8\") as f:\n    data = f.readlines()\n    data = [json.loads(line) for line in data] #convert string to dict format\ndf = pd.read_json(data) # Load into dataframe\n'''\n#data=pd.read_json(codecs.open('data.json','r','utf-8'),lines=True)\n'''\nwith open('data.json','rb') as f:\n  entries=f.readlines()\nlines=list(entries)\nCleaned=[str(line).rstrip() for line in lines]\n#Removes \\n\nJson=\"[\" + ','.join(str(cl) for cl in Cleaned) + \"]\"\ndata=pd.read_json(Json)\n'''</code></pre><p><br/></p></div>", "viewer": 8095, "tags": ["统计/机器学习", "数据预处理", "Python", "I/O"], "answers": []}