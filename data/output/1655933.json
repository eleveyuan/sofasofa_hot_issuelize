{"id": "1655933", "question": "python里的TYPE_CHECKING是什么作用？", "description": "<div class=\"col-md-11 col-xs-10\"><p>在别人的代码里看到引用了TYPE_CHECKING这个函数</p><pre><code class=\"python\">from typing import TYPE_CHECKING</code></pre><p>使用的方法就是</p><pre><code class=\"python\">if TYPE_CHECKING:</code></pre><p>看起来像是个常数，但是具体是什么意思呢？</p></div>", "viewer": 95, "tags": ["统计/机器学习", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">这个主要是为了防止循环引用出现的差错，比如说这种</span></p><pre><code class=\"python\"><span style=\"font-size: 14px;\">ImportError: cannot import name 'zzz' from partially initialized module 'xxx' \r\n(most likely due to a circular import)</span></code></pre><p><span style=\"font-size: 14px;\">为了防止循环import相互依赖的module，可以先用type_checking</span></p><pre><code class=\"python\"><span style=\"font-size: 14px;\">from typing import TYPE_CHECKING\r\n\r\nif TYPE_CHECKING:\r\n    from models import zzz</span></code></pre><p><span style=\"font-size: 14px;\">如果想看更具体的解释，可以看看这个链接</span><a href=\"https://adamj.eu/tech/2021/05/13/python-type-hints-how-to-fix-circular-imports/\" target=\"_blank\"><span style=\"font-size: 14px;\">https://adamj.eu/tech/2021/05/13/python-type-hints-how-to-fix-circular-imports/</span></a></p></div>", "lvl2_answer": []}]}