{"id": "1000355", "question": "训练集中有的特征含有缺失值，一般怎么处理", "description": "<div class=\"col-md-11 col-xs-10\"><p>训练集样本中有的数值特征列含有缺失值，一般怎么处理？我一般都是取这一列的平均值，有更好的方法，或者其他可行的方法吗？</p></div>", "viewer": 11293, "tags": ["统计/机器学习", "数据预处理"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-weight: bold;\">1. 替代法</span></p><p>用该列的中位数或者平均值或者众数来代替这列中所有的缺失值。也可以从这一列中随机抽样(bootstrap)。</p><p>对于时间序列变量，可以用插值的方法。</p><p>这个方法的缺点是让数据增加了很多noise。</p><p><span style=\"font-weight: bold;\">2. 预测法</span></p><p>把这一列当成标签，用剩下变量来预测缺失值。</p><p>一般用比较简单的模型，比如可以用kNN，regression tree。</p><p>这个方法的缺点是引入了偏差。</p><p><span style=\"font-weight: bold;\">3. 消极处理</span></p><p>如果某一行的缺失值很多，就把这一行删了。</p><p>如果某一列的缺失值很多，就把这一列删了。</p><p>或者直接不处理，有些模型，比如random forest，可以直接处理有缺失值的数据。</p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>先看看缺失值多不多，如果这一变量里面95%都是缺失的，我觉得这一列的参考意义也不会大，不如就把这一列给删掉。</p><p>对于数值变量(numeric)来说，可以用平均值来代替。</p><p>对于分类变量(categorical)来说，可以把缺失值统一当作一个新的分类来处理。</p></div>", "lvl2_answer": ["补充一下，还需要先看看这些missing data是随机的还是非随机的。也许由于问卷的设定，采样的方法等等问题，可能导致某类型的数值更容易缺失。"]}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>说句我的实战经验，如果数据是来自自家公司的数据库，那以上方法都不是最有效的。最有效的方法是去找负责数据库的码农同志聊一聊。标本兼治，药到病除。</p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">从实际角度出发，首先要了解缺失的原因；其次，看缺失值和预测值的联合分布，看看其中有没有什么蹊跷。\n</span></p><p><span style=\"font-size: 14px;\">从处理的角度来说，如题主说到的，\n</span></p><ul><li><span style=\"font-size: 14px;\">可以用均值，也可以用众数，中位数；\n</span></li><li><span style=\"font-size: 14px;\">可以按类的均值（众数、中位数）补全，比如说数据中A列中的数值有缺失，B列是一个categorical variable，你可以按照B列中的类别，用类别的均值对A列中的数据补全。</span></li></ul><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>直接看这个链接就完事了，清晰明了</p><p>ps 我的实际经验是在imputing的时候用MCMC sampling或者Random Forest的效果很棒，尤其推荐mice 这个package</p><p><a href=\"https://towardsdatascience.com/how-to-handle-missing-data-8646b18db0d4\">How to Handle Missing Data</a><br/></p></div>", "lvl2_answer": []}]}