{"id": "1002706", "question": "随机森林中的predict_proba", "description": "<div class=\"col-md-11 col-xs-10\"><p>在<a href=\"http://sofasofa.io/benchmarks.php?id=2#RF\" target=\"_blank\">交通事故理赔的竞赛</a>中，用<a href=\"http://sofasofa.io/benchmarks.php?id=2#RF\" target=\"_blank\">随机森林</a>进行理赔与否的预测，标杆模型中的代码简洁明了如下：</p><p>\n</p><p># -*- coding: utf-8 -*-\n</p><p>import pandas as pd\n</p><p>from sklearn.ensemble import RandomForestClassifier\n</p><p>\n</p><p># 读取数据\n</p><p>train = pd.read_csv(\"C:\\\\python\\\\dataset\\\\random forest\\\\train.csv\")\n</p><p>test = pd.read_csv(\"C:\\\\python\\\\dataset\\\\random forest\\\\test.csv\")\n</p><p>submit = pd.read_csv(\"C:\\\\python\\\\dataset\\\\random forest\\\\sample_submit.csv\")\n</p><p>\n</p><p># 删除id\n</p><p>train.drop('CaseId', axis=1, inplace=True)\n</p><p>test.drop('CaseId', axis=1, inplace=True)\n</p><p>\n</p><p># 取出训练集的y\n</p><p>y_train = train.pop('Evaluation')\n</p><p>\n</p><p># 建立随机森林模型\n</p><p>clf = RandomForestClassifier(n_estimators=100, random_state=0)</p><p>clf.fit(train, y_train)</p><p><span style=\"background-color: rgb(255, 255, 0);\">#这里到底什么意思？\n</span></p><p><span style=\"background-color: rgb(255, 255, 0);\">y_pred = clf.predict_proba(test)[:, 1]\n</span></p><p>\n</p><p># 输出预测结果至my_RF_prediction.csv\n</p><p>submit['Evaluation'] = y_pred\n</p><p>submit.to_csv('C:\\\\python\\\\dataset\\\\random forest\\\\my_RF_prediction.csv', index=False)\n</p><p><br/></p><p>黄线部分的test 后面为什么跟着[:,1]是用pandas对test进行切片只取test第一列的意思么？但是test的第一列是Q1，仅用test第一列的数据导入函数中，去乞求得到predicted value，似乎说不过去啊。[:, 1]\n的意思是什么？</p><p><br/></p><p>谢谢您的回答</p></div>", "viewer": 4097, "tags": ["统计/机器学习", "Python", "数据竞赛"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>题主可以看看这个问题 <a href=\"http://sofasofa.io/forum_main_post.php?postid=1000600\" target=\"_blank\">如何理解predict_proba的返回值</a></p><p><br/><br/></p></div>", "lvl2_answer": ["Great! Thank u very much!"]}]}