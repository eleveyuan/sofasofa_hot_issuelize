{"id": "1022305", "question": "python怎么只保留某列前几个数字", "description": "<div class=\"col-md-11 col-xs-10\"><p>比如</p><p>name              date </p><p>   a              20110928</p><p>   b              20121124</p><p>   c              20130326</p><p>把date保留成</p><p>2011</p><p>2012</p><p>2013</p><p><br/></p><p>谢谢</p></div>", "viewer": 1912, "tags": ["统计/机器学习", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>假定你的文件是csv哈，你用pandas读取csv文件操作DataFrame就可以了，具体去查apply用法就懂了</p><pre><code class=\"python\">import pandas as pd\n\n\ndef get_year(date):\n    for i in range(4):\n        date = date // 10\n    return date\n\n\na = pd.DataFrame([['a', 20110928],\n                   ['b', 20121124],\n                   ['c', 20130326],])\n\na[1] = a.apply(lambda x: get_year(x[1]), axis = 1)\nprint(a)</code></pre><p>输出：</p><pre><code class=\"python\">   0     1\n0  a  2011\n1  b  2012\n2  c  2013</code></pre><p><br/></p></div>", "lvl2_answer": []}, {"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><br/></p><pre><code class=\"python\">import pandas as pd\ndf.date = df.date.apply(lambda x: str(x)[:4]) # 这里要看你原始date列的类型</code></pre><p>解决了</p></div>", "lvl2_answer": []}]}