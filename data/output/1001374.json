{"id": "1001374", "question": "pymongo多线程报错Address already in use", "description": "<div class=\"col-md-11 col-xs-10\"><p>我用cygwin跑的Python，开了1000个线程读取mongodb的数据，前面好好的，后面就开始报错了，这个问题挺久了，试了网上的方法好像都无效</p><p><br/></p><pre><code class=\"python\">  File \"/usr/lib/python2.7/site-packages/pymongo/collection.py\", line 2524, in remove\r\n    with self._socket_for_writes() as sock_info:\r\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\r\n    return self.gen.next()\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/mongo_client.py\", line 825, in _get_socket\r\n    with server.get_socket(self.__all_credentials) as sock_info:\r\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\r\n    return self.gen.next()\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/server.py\", line 168, in get_socket\r\n    with self.pool.get_socket(all_credentials, checkout) as sock_info:\r\n  File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\r\n    return self.gen.next()\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/pool.py\", line 790, in get_socket\r\n    sock_info = self._get_socket_no_auth()\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/pool.py\", line 826, in _get_socket_no_auth\r\n    sock_info, from_pool = self.connect(), False\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/pool.py\", line 763, in connect\r\n    _raise_connection_failure(self.address, error)\r\n  File \"/usr/lib/python2.7/site-packages/pymongo/pool.py\", line 211, in _raise_connection_failure\r\n    raise AutoReconnect(msg)\r\nAutoReconnect: 127.0.0.1:27017: [Errno 112] Address already in use\r\n</code></pre><p><br/></p><p><br/></p><p><br/></p></div>", "viewer": 3963, "tags": ["统计/机器学习", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>估计是port被占用了，不知道是不是前面的进程出了问题，试试把threads数量调小点，然后读个小数据试试。</p><p><br/></p></div>", "lvl2_answer": []}]}