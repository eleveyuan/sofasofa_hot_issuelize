{"id": "1002654", "question": "pandas groupby agg中使用自定义函数", "description": "<div class=\"col-md-11 col-xs-10\"><p>我有一个关于python编程的问题。用pandas我们可以进行groupby和agg的操作，比如</p><pre><code class=\"python\">&gt;&gt;&gt; df.groupby('my_col').agg(['mean', 'max'])</code></pre><p>我们可以求每组的mean和max。如果我现在要在每组上用我的自定义的函数，该如何调用？</p></div>", "viewer": 10807, "tags": ["统计/机器学习", "数据预处理", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p>先写出自己定义的函数f，比如说我们要知道最大值和中位数的差</p><pre><code class=\"python\">def my_func(x):\r\n    res = max(x) - np.median(x)\r\n    return res\r\n\r\ndf.groupby('my_col').agg([my_func])</code></pre><p>如果有多个自定义的函数的话</p><pre><code class=\"python\">df.groupby('loc_id').agg([my_func1, my_func2, my_func3])</code></pre><p><br/></p></div>", "lvl2_answer": ["感谢！正在找这个功能呢！"]}]}