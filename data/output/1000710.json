{"id": "1000710", "question": "调用sklearn中的classification_report，ValueError: Mix type of y not allowed, got types set(['binary', 'continuous'])", "description": "<div class=\"col-md-11 col-xs-10\"><p>最近在学习机器学习的一些算法，在弄决策树的时候报了错</p><pre><code class=\"python\">print classification_report(y,answer,target_names=['up','down'])</code></pre><p><br/></p><pre><code class=\"python\"> File \"G:\\Anaconda2\\lib\\site-packages\\sklearn\\metrics\\classification.py\", line 1391, in classification_report\n\n    labels = unique_labels(y_true, y_pred)\n\n  File \"G:\\Anaconda2\\lib\\site-packages\\sklearn\\utils\\multiclass.py\", line 84, in unique_labels\n\n    raise ValueError(\"Mix type of y not allowed, got types %s\" % ys_types)\n\nValueError: Mix type of y not allowed, got types set(['binary', 'continuous'])</code></pre><p><br/></p><p>我google一下，发现是说y的元素值类型都要一致才可以，但是我遍历了y，所有的元素都是</p><p>np.float64的<span style=\"font-size: 1rem;\">类型，并不存在类型不一致的问题呀</span></p></div>", "viewer": 14935, "tags": ["统计/机器学习", "模型验证", "Python"], "answers": [{"lvl1_answer": "<div class=\"col-md-11 col-xs-10 p-r\"><p><span style=\"font-size: 14px;\">classification_report(y,answer,target_names=['up','down'])中y必须是整数型，answer也必须是整数型，估计你里面有小数。</span></p><p><span style=\"font-size: 14px;\">你可以这样试试</span></p><pre><code class=\"python\"><span style=\"font-size: 14px;\">&gt;&gt;&gt; y = list(map(lambda x: int(x), y))\n&gt;&gt;&gt; answer = list(map(lambda x: int(x), answer))\n&gt;&gt;&gt; print(classification_report(y,answer,target_names=['up','down']))</span></code></pre></div>", "lvl2_answer": ["感谢，确实可以了，确实不清楚必须要整数型，因为在前面的一个练习里面是没有问题的，刚刚看了他的数据类型也是float64的，不懂是不是他数据量才10个的原因，我自己这个例子的数据量是30万，然后就出错了，我将y转换为np.int64也不行，用你的方法可以了，非常感谢"]}]}